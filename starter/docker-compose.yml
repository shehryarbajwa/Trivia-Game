version: '3'
services:
    postgres:
        image: 'postgres:latest'
        environment:
           - POSTGRES_PASSWORD=postgres_password
    api:
        depends_on: 
            - postgres
        build:
            dockerfile: Dockerfile
            context: ./backend
        environment: 
            - DATABASE_USER=shehryarbajwa
            - DATABASE_TYPE=postgres
            - DATABASE_NAME=trivia
            - DATABASE_PASSWORD=postgres_password
            - DATABASE_PORT=localhost:5432
    client:
        stdin_open: true
        build:
            dockerfile: Dockerfile
            context: ./frontend
        volumes:
            - /app/node_modules
            - ./client:/app

            